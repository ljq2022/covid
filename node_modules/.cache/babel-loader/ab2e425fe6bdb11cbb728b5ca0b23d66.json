{"ast":null,"code":"var _jsxFileName = \"/Users/lebowitz/Desktop/calHackathon/covid/src/components/post-list.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Post = props => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }\n}, props.post.username), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }\n}, props.post.description), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }\n}, props.post.date.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: props.post.file,\n  alt: \"\",\n  width: \"40\",\n  height: \"40\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }\n})), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.post._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 7\n  }\n}, \"label\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.completePost(props.post._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 57\n  }\n}, \"mark complete\"), /*#__PURE__*/React.createElement(\"br\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deletePost(props.post._id);\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 7\n  }\n}, \"delete\"))); //class component\n\n\nexport default class PostList extends Component {\n  constructor(props) {\n    super(props);\n    this.completePost = this.completePost.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/posts/').then(response => {\n      this.setState({\n        posts: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deletePost(id) {\n    axios.delete('http://localhost:5000/posts/' + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      posts: this.state.posts.filter(el => el._id !== id)\n    });\n  }\n\n  completePost(id) {\n    var completedPost;\n\n    for (var i = 0; i < this.state.posts.length; i++) {\n      if (this.state.posts[i]._id === id) {\n        completedPost = this.state.posts[i];\n        this.state.posts[i].complete = true;\n        break;\n      }\n    }\n\n    const res = {\n      username: completedPost.username,\n      description: completedPost.description,\n      date: completedPost.date,\n      file: completedPost.file,\n      complete: true\n    };\n    axios.post('http://localhost:5000/posts/update/' + id, res).then(response => {\n      console.log(response.data);\n    });\n  }\n\n  filterPosts(pickerSelection) {}\n\n  postList() {\n    return this.state.posts.map(currentpost => {\n      console.log('POST LIST');\n      console.log(currentpost);\n      return /*#__PURE__*/React.createElement(Post, {\n        post: currentpost,\n        completePost: this.completePost,\n        deletePost: this.deletePost,\n        key: currentpost._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"Posts\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.filterPosts,\n      defaultValue: 'Tasks Not Completed',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks Not Completed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"Tasks Not Completed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks Already Completed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, \"Tasks Already Completed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks I Created\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, \"Tasks I Created\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Public Tasks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"Public Tasks\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"File\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, this.postList())));\n  }\n\n}","map":{"version":3,"sources":["/Users/lebowitz/Desktop/calHackathon/covid/src/components/post-list.component.js"],"names":["React","Component","Link","axios","Post","props","post","username","description","date","substring","file","_id","completePost","deletePost","PostList","constructor","bind","state","posts","componentDidMount","get","then","response","setState","data","catch","error","console","log","id","delete","filter","el","completedPost","i","length","complete","res","filterPosts","pickerSelection","postList","map","currentpost","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Post = props => (\n  <tr>\n    <td>{props.post.username}</td>\n    <td>{props.post.description}</td>\n    <td>{props.post.date.substring(0,10)}</td>\n    <td><img src={props.post.file} alt=\"\" width=\"40\" height=\"40\" /></td>\n    <td>\n      <Link to={\"/edit/\"+props.post._id}>label</Link> | <a href=\"#\" onClick={() => { props.completePost(props.post._id) }}>mark complete</a>\n      <br/>\n      <a href=\"#\" onClick={() => { props.deletePost(props.post._id) }}>delete</a>\n    </td>\n  </tr>\n)\n\n//class component\nexport default class PostList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.completePost = this.completePost.bind(this)\n    this.deletePost = this.deletePost.bind(this);\n\n    this.state = {posts: []};\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/posts/')\n      .then(response => {\n        this.setState({ posts: response.data })\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n  deletePost(id) {\n    axios.delete('http://localhost:5000/posts/'+id)\n      .then(response => { console.log(response.data)});\n\n    this.setState({\n      posts: this.state.posts.filter(el => el._id !== id)\n    })\n  }\n  completePost(id) {\n    var completedPost;\n    for(var i = 0; i < this.state.posts.length; i++) {\n      if(this.state.posts[i]._id === id) {\n        completedPost = this.state.posts[i];\n        this.state.posts[i].complete = true;\n        break;\n      }\n    }\n    const res = {\n      username: completedPost.username,\n      description: completedPost.description,\n      date: completedPost.date,\n      file: completedPost.file,\n      complete: true\n    };\n    axios.post('http://localhost:5000/posts/update/'+id, res)\n      .then(response => { console.log(response.data)});\n  }\n\n  filterPosts(pickerSelection){\n\n  }\n\n  postList() {\n    return this.state.posts.map(currentpost => {\n      console.log('POST LIST');\n      console.log(currentpost);\n      return <Post post={currentpost} completePost={this.completePost} deletePost={this.deletePost} key={currentpost._id}/>;\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Posts</h3>\n        <select onChange={this.filterPosts} defaultValue={'Tasks Not Completed'}>\n          <option value='Tasks Not Completed'>Tasks Not Completed</option>\n          <option value='Tasks Already Completed'>Tasks Already Completed</option>\n          <option value='Tasks I Created'>Tasks I Created</option>\n          <option value='Public Tasks'>Public Tasks</option>\n        </select>\n        <table className=\"table\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th>Username</th>\n              <th>Description</th>\n              <th>Date</th>\n              <th>File</th>\n              <th>Type</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.postList() }\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}