{"ast":null,"code":"var ColorGrid, ColorWell, PureRenderMixin, React, cancelAnimationFrame, classSet, getHSLAString, getHSLString, parseHSLAString, ref, requestAnimationFrame;\nReact = require('./React-shim');\nPureRenderMixin = require('react-addons-pure-render-mixin');\nref = require('../core/util'), classSet = ref.classSet, requestAnimationFrame = ref.requestAnimationFrame, cancelAnimationFrame = ref.cancelAnimationFrame;\n\nparseHSLAString = function (s) {\n  var components, firstParen, insideParens, lastParen;\n\n  if (s === 'transparent') {\n    return {\n      hue: 0,\n      sat: 0,\n      light: 0,\n      alpha: 0\n    };\n  }\n\n  if (s.substring(0, 4) !== 'hsla') {\n    return null;\n  }\n\n  firstParen = s.indexOf('(');\n  lastParen = s.indexOf(')');\n  insideParens = s.substring(firstParen + 1, lastParen - firstParen + 4);\n\n  components = function () {\n    var j, len, ref1, results;\n    ref1 = insideParens.split(',');\n    results = [];\n\n    for (j = 0, len = ref1.length; j < len; j++) {\n      s = ref1[j];\n      results.push(s.trim());\n    }\n\n    return results;\n  }();\n\n  return {\n    hue: parseInt(components[0], 10),\n    sat: parseInt(components[1].substring(0, components[1].length - 1), 10),\n    light: parseInt(components[2].substring(0, components[2].length - 1), 10),\n    alpha: parseFloat(components[3])\n  };\n};\n\ngetHSLAString = function (arg) {\n  var alpha, hue, light, sat;\n  hue = arg.hue, sat = arg.sat, light = arg.light, alpha = arg.alpha;\n  return \"hsla(\" + hue + \", \" + sat + \"%, \" + light + \"%, \" + alpha + \")\";\n};\n\ngetHSLString = function (arg) {\n  var hue, light, sat;\n  hue = arg.hue, sat = arg.sat, light = arg.light;\n  return \"hsl(\" + hue + \", \" + sat + \"%, \" + light + \"%)\";\n};\n\nColorGrid = React.createFactory(React.createClass({\n  displayName: 'ColorGrid',\n  mixins: [PureRenderMixin],\n  render: function () {\n    var div;\n    div = React.DOM.div;\n    return div({}, this.props.rows.map(function (_this) {\n      return function (row, ix) {\n        return div({\n          className: 'color-row',\n          key: ix,\n          style: {\n            width: 20 * row.length\n          }\n        }, row.map(function (cellColor, ix2) {\n          var alpha, className, colorString, colorStringNoAlpha, hue, light, sat, update;\n          hue = cellColor.hue, sat = cellColor.sat, light = cellColor.light, alpha = cellColor.alpha;\n          colorString = getHSLAString(cellColor);\n          colorStringNoAlpha = \"hsl(\" + hue + \", \" + sat + \"%, \" + light + \"%)\";\n          className = classSet({\n            'color-cell': true,\n            'selected': _this.props.selectedColor === colorString\n          });\n\n          update = function (e) {\n            _this.props.onChange(cellColor, colorString);\n\n            e.stopPropagation();\n            return e.preventDefault();\n          };\n\n          return div({\n            className: className,\n            onTouchStart: update,\n            onTouchMove: update,\n            onClick: update,\n            style: {\n              backgroundColor: colorStringNoAlpha\n            },\n            key: ix2\n          });\n        }));\n      };\n    }(this)));\n  }\n}));\nColorWell = React.createClass({\n  displayName: 'ColorWell',\n  mixins: [PureRenderMixin],\n  getInitialState: function () {\n    var colorString, hsla;\n    colorString = this.props.lc.colors[this.props.colorName];\n    hsla = parseHSLAString(colorString);\n\n    if (hsla == null) {\n      hsla = {};\n    }\n\n    if (hsla.alpha == null) {\n      hsla.alpha = 1;\n    }\n\n    if (hsla.sat == null) {\n      hsla.sat = 100;\n    }\n\n    if (hsla.hue == null) {\n      hsla.hue = 0;\n    }\n\n    if (hsla.light == null) {\n      hsla.light = 50;\n    }\n\n    return {\n      colorString: colorString,\n      alpha: hsla.alpha,\n      sat: hsla.sat === 0 ? 100 : hsla.sat,\n      isPickerVisible: false,\n      hsla: hsla\n    };\n  },\n  componentDidMount: function () {\n    return this.unsubscribe = this.props.lc.on(this.props.colorName + \"ColorChange\", function (_this) {\n      return function () {\n        var colorString;\n        colorString = _this.props.lc.colors[_this.props.colorName];\n\n        _this.setState({\n          colorString: colorString\n        });\n\n        return _this.setHSLAFromColorString(colorString);\n      };\n    }(this));\n  },\n  componentWillUnmount: function () {\n    return this.unsubscribe();\n  },\n  setHSLAFromColorString: function (c) {\n    var hsla;\n    hsla = parseHSLAString(c);\n\n    if (hsla) {\n      return this.setState({\n        hsla: hsla,\n        alpha: hsla.alpha,\n        sat: hsla.sat\n      });\n    } else {\n      return this.setState({\n        hsla: null,\n        alpha: 1,\n        sat: 100\n      });\n    }\n  },\n  closePicker: function () {\n    return this.setState({\n      isPickerVisible: false\n    });\n  },\n  togglePicker: function () {\n    var isPickerVisible, shouldResetSat;\n    isPickerVisible = !this.state.isPickerVisible;\n    shouldResetSat = isPickerVisible && this.state.sat === 0;\n    this.setHSLAFromColorString(this.state.colorString);\n    return this.setState({\n      isPickerVisible: isPickerVisible,\n      sat: shouldResetSat ? 100 : this.state.sat\n    });\n  },\n  setColor: function (c) {\n    this.setState({\n      colorString: c\n    });\n    this.setHSLAFromColorString(c);\n    return this.props.lc.setColor(this.props.colorName, c);\n  },\n  setAlpha: function (alpha) {\n    var hsla;\n    this.setState({\n      alpha: alpha\n    });\n\n    if (this.state.hsla) {\n      hsla = this.state.hsla;\n      hsla.alpha = alpha;\n      this.setState({\n        hsla: hsla\n      });\n      return this.setColor(getHSLAString(hsla));\n    }\n  },\n  setSat: function (sat) {\n    var hsla;\n    this.setState({\n      sat: sat\n    });\n\n    if (isNaN(sat)) {\n      throw \"SAT\";\n    }\n\n    if (this.state.hsla) {\n      hsla = this.state.hsla;\n      hsla.sat = sat;\n      this.setState({\n        hsla: hsla\n      });\n      return this.setColor(getHSLAString(hsla));\n    }\n  },\n  render: function () {\n    var br, div, label, ref1;\n    ref1 = React.DOM, div = ref1.div, label = ref1.label, br = ref1.br;\n    return div({\n      className: classSet({\n        'color-well': true,\n        'open': this.state.isPickerVisible\n      }),\n      onMouseLeave: this.closePicker,\n      style: {\n        float: 'left',\n        textAlign: 'center'\n      }\n    }, label({\n      float: 'left'\n    }, this.props.label), br({}), div({\n      className: classSet({\n        'color-well-color-container': true,\n        'selected': this.state.isPickerVisible\n      }),\n      style: {\n        backgroundColor: 'white'\n      },\n      onClick: this.togglePicker\n    }, div({\n      className: 'color-well-checker color-well-checker-top-left'\n    }), div({\n      className: 'color-well-checker color-well-checker-bottom-right',\n      style: {\n        left: '50%',\n        top: '50%'\n      }\n    }), div({\n      className: 'color-well-color',\n      style: {\n        backgroundColor: this.state.colorString\n      }\n    }, \" \")), this.renderPicker());\n  },\n  renderPicker: function () {\n    var div, hue, i, input, j, label, len, onSelectColor, ref1, ref2, renderColor, renderLabel, rows;\n    ref1 = React.DOM, div = ref1.div, label = ref1.label, input = ref1.input;\n\n    if (!this.state.isPickerVisible) {\n      return null;\n    }\n\n    renderLabel = function (_this) {\n      return function (text) {\n        return div({\n          className: 'color-row label',\n          key: text,\n          style: {\n            lineHeight: '20px',\n            height: 16\n          }\n        }, text);\n      };\n    }(this);\n\n    renderColor = function (_this) {\n      return function () {\n        var checkerboardURL;\n        checkerboardURL = _this.props.lc.opts.imageURLPrefix + \"/checkerboard-8x8.png\";\n        return div({\n          className: 'color-row',\n          key: \"color\",\n          style: {\n            position: 'relative',\n            backgroundImage: \"url(\" + checkerboardURL + \")\",\n            backgroundRepeat: 'repeat',\n            height: 24\n          }\n        }, div({\n          style: {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            backgroundColor: _this.state.colorString\n          }\n        }));\n      };\n    }(this);\n\n    rows = [];\n    rows.push(function () {\n      var j, results;\n      results = [];\n\n      for (i = j = 0; j <= 100; i = j += 10) {\n        results.push({\n          hue: 0,\n          sat: 0,\n          light: i,\n          alpha: this.state.alpha\n        });\n      }\n\n      return results;\n    }.call(this));\n    ref2 = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330];\n\n    for (j = 0, len = ref2.length; j < len; j++) {\n      hue = ref2[j];\n      rows.push(function () {\n        var k, results;\n        results = [];\n\n        for (i = k = 10; k <= 90; i = k += 8) {\n          results.push({\n            hue: hue,\n            sat: this.state.sat,\n            light: i,\n            alpha: this.state.alpha\n          });\n        }\n\n        return results;\n      }.call(this));\n    }\n\n    onSelectColor = function (_this) {\n      return function (hsla, s) {\n        return _this.setColor(s);\n      };\n    }(this);\n\n    return div({\n      className: 'color-picker-popup'\n    }, renderColor(), renderLabel(\"alpha\"), input({\n      type: 'range',\n      min: 0,\n      max: 1,\n      step: 0.01,\n      value: this.state.alpha,\n      onChange: function (_this) {\n        return function (e) {\n          return _this.setAlpha(parseFloat(e.target.value));\n        };\n      }(this)\n    }), renderLabel(\"saturation\"), input({\n      type: 'range',\n      min: 0,\n      max: 100,\n      value: this.state.sat,\n      max: 100,\n      onChange: function (_this) {\n        return function (e) {\n          return _this.setSat(parseInt(e.target.value, 10));\n        };\n      }(this)\n    }), ColorGrid({\n      rows: rows,\n      selectedColor: this.state.colorString,\n      onChange: onSelectColor\n    }));\n  }\n});\nmodule.exports = ColorWell;","map":{"version":3,"sources":["C:/Users/lukeq/blog/node_modules/literallycanvas/lib/js/reactGUI/ColorWell.js"],"names":["ColorGrid","ColorWell","PureRenderMixin","React","cancelAnimationFrame","classSet","getHSLAString","getHSLString","parseHSLAString","ref","requestAnimationFrame","require","s","components","firstParen","insideParens","lastParen","hue","sat","light","alpha","substring","indexOf","j","len","ref1","results","split","length","push","trim","parseInt","parseFloat","arg","createFactory","createClass","displayName","mixins","render","div","DOM","props","rows","map","_this","row","ix","className","key","style","width","cellColor","ix2","colorString","colorStringNoAlpha","update","selectedColor","e","onChange","stopPropagation","preventDefault","onTouchStart","onTouchMove","onClick","backgroundColor","getInitialState","hsla","lc","colors","colorName","isPickerVisible","componentDidMount","unsubscribe","on","setState","setHSLAFromColorString","componentWillUnmount","c","closePicker","togglePicker","shouldResetSat","state","setColor","setAlpha","setSat","isNaN","br","label","onMouseLeave","float","textAlign","left","top","renderPicker","i","input","onSelectColor","ref2","renderColor","renderLabel","text","lineHeight","height","checkerboardURL","opts","imageURLPrefix","position","backgroundImage","backgroundRepeat","right","bottom","call","k","type","min","max","step","value","target","module","exports"],"mappings":"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","sourcesContent":["var ColorGrid, ColorWell, PureRenderMixin, React, cancelAnimationFrame, classSet, getHSLAString, getHSLString, parseHSLAString, ref, requestAnimationFrame;\n\nReact = require('./React-shim');\n\nPureRenderMixin = require('react-addons-pure-render-mixin');\n\nref = require('../core/util'), classSet = ref.classSet, requestAnimationFrame = ref.requestAnimationFrame, cancelAnimationFrame = ref.cancelAnimationFrame;\n\nparseHSLAString = function(s) {\n  var components, firstParen, insideParens, lastParen;\n  if (s === 'transparent') {\n    return {\n      hue: 0,\n      sat: 0,\n      light: 0,\n      alpha: 0\n    };\n  }\n  if (s.substring(0, 4) !== 'hsla') {\n    return null;\n  }\n  firstParen = s.indexOf('(');\n  lastParen = s.indexOf(')');\n  insideParens = s.substring(firstParen + 1, lastParen - firstParen + 4);\n  components = (function() {\n    var j, len, ref1, results;\n    ref1 = insideParens.split(',');\n    results = [];\n    for (j = 0, len = ref1.length; j < len; j++) {\n      s = ref1[j];\n      results.push(s.trim());\n    }\n    return results;\n  })();\n  return {\n    hue: parseInt(components[0], 10),\n    sat: parseInt(components[1].substring(0, components[1].length - 1), 10),\n    light: parseInt(components[2].substring(0, components[2].length - 1), 10),\n    alpha: parseFloat(components[3])\n  };\n};\n\ngetHSLAString = function(arg) {\n  var alpha, hue, light, sat;\n  hue = arg.hue, sat = arg.sat, light = arg.light, alpha = arg.alpha;\n  return \"hsla(\" + hue + \", \" + sat + \"%, \" + light + \"%, \" + alpha + \")\";\n};\n\ngetHSLString = function(arg) {\n  var hue, light, sat;\n  hue = arg.hue, sat = arg.sat, light = arg.light;\n  return \"hsl(\" + hue + \", \" + sat + \"%, \" + light + \"%)\";\n};\n\nColorGrid = React.createFactory(React.createClass({\n  displayName: 'ColorGrid',\n  mixins: [PureRenderMixin],\n  render: function() {\n    var div;\n    div = React.DOM.div;\n    return div({}, this.props.rows.map((function(_this) {\n      return function(row, ix) {\n        return div({\n          className: 'color-row',\n          key: ix,\n          style: {\n            width: 20 * row.length\n          }\n        }, row.map(function(cellColor, ix2) {\n          var alpha, className, colorString, colorStringNoAlpha, hue, light, sat, update;\n          hue = cellColor.hue, sat = cellColor.sat, light = cellColor.light, alpha = cellColor.alpha;\n          colorString = getHSLAString(cellColor);\n          colorStringNoAlpha = \"hsl(\" + hue + \", \" + sat + \"%, \" + light + \"%)\";\n          className = classSet({\n            'color-cell': true,\n            'selected': _this.props.selectedColor === colorString\n          });\n          update = function(e) {\n            _this.props.onChange(cellColor, colorString);\n            e.stopPropagation();\n            return e.preventDefault();\n          };\n          return div({\n            className: className,\n            onTouchStart: update,\n            onTouchMove: update,\n            onClick: update,\n            style: {\n              backgroundColor: colorStringNoAlpha\n            },\n            key: ix2\n          });\n        }));\n      };\n    })(this)));\n  }\n}));\n\nColorWell = React.createClass({\n  displayName: 'ColorWell',\n  mixins: [PureRenderMixin],\n  getInitialState: function() {\n    var colorString, hsla;\n    colorString = this.props.lc.colors[this.props.colorName];\n    hsla = parseHSLAString(colorString);\n    if (hsla == null) {\n      hsla = {};\n    }\n    if (hsla.alpha == null) {\n      hsla.alpha = 1;\n    }\n    if (hsla.sat == null) {\n      hsla.sat = 100;\n    }\n    if (hsla.hue == null) {\n      hsla.hue = 0;\n    }\n    if (hsla.light == null) {\n      hsla.light = 50;\n    }\n    return {\n      colorString: colorString,\n      alpha: hsla.alpha,\n      sat: hsla.sat === 0 ? 100 : hsla.sat,\n      isPickerVisible: false,\n      hsla: hsla\n    };\n  },\n  componentDidMount: function() {\n    return this.unsubscribe = this.props.lc.on(this.props.colorName + \"ColorChange\", (function(_this) {\n      return function() {\n        var colorString;\n        colorString = _this.props.lc.colors[_this.props.colorName];\n        _this.setState({\n          colorString: colorString\n        });\n        return _this.setHSLAFromColorString(colorString);\n      };\n    })(this));\n  },\n  componentWillUnmount: function() {\n    return this.unsubscribe();\n  },\n  setHSLAFromColorString: function(c) {\n    var hsla;\n    hsla = parseHSLAString(c);\n    if (hsla) {\n      return this.setState({\n        hsla: hsla,\n        alpha: hsla.alpha,\n        sat: hsla.sat\n      });\n    } else {\n      return this.setState({\n        hsla: null,\n        alpha: 1,\n        sat: 100\n      });\n    }\n  },\n  closePicker: function() {\n    return this.setState({\n      isPickerVisible: false\n    });\n  },\n  togglePicker: function() {\n    var isPickerVisible, shouldResetSat;\n    isPickerVisible = !this.state.isPickerVisible;\n    shouldResetSat = isPickerVisible && this.state.sat === 0;\n    this.setHSLAFromColorString(this.state.colorString);\n    return this.setState({\n      isPickerVisible: isPickerVisible,\n      sat: shouldResetSat ? 100 : this.state.sat\n    });\n  },\n  setColor: function(c) {\n    this.setState({\n      colorString: c\n    });\n    this.setHSLAFromColorString(c);\n    return this.props.lc.setColor(this.props.colorName, c);\n  },\n  setAlpha: function(alpha) {\n    var hsla;\n    this.setState({\n      alpha: alpha\n    });\n    if (this.state.hsla) {\n      hsla = this.state.hsla;\n      hsla.alpha = alpha;\n      this.setState({\n        hsla: hsla\n      });\n      return this.setColor(getHSLAString(hsla));\n    }\n  },\n  setSat: function(sat) {\n    var hsla;\n    this.setState({\n      sat: sat\n    });\n    if (isNaN(sat)) {\n      throw \"SAT\";\n    }\n    if (this.state.hsla) {\n      hsla = this.state.hsla;\n      hsla.sat = sat;\n      this.setState({\n        hsla: hsla\n      });\n      return this.setColor(getHSLAString(hsla));\n    }\n  },\n  render: function() {\n    var br, div, label, ref1;\n    ref1 = React.DOM, div = ref1.div, label = ref1.label, br = ref1.br;\n    return div({\n      className: classSet({\n        'color-well': true,\n        'open': this.state.isPickerVisible\n      }),\n      onMouseLeave: this.closePicker,\n      style: {\n        float: 'left',\n        textAlign: 'center'\n      }\n    }, label({\n      float: 'left'\n    }, this.props.label), br({}), div({\n      className: classSet({\n        'color-well-color-container': true,\n        'selected': this.state.isPickerVisible\n      }),\n      style: {\n        backgroundColor: 'white'\n      },\n      onClick: this.togglePicker\n    }, div({\n      className: 'color-well-checker color-well-checker-top-left'\n    }), div({\n      className: 'color-well-checker color-well-checker-bottom-right',\n      style: {\n        left: '50%',\n        top: '50%'\n      }\n    }), div({\n      className: 'color-well-color',\n      style: {\n        backgroundColor: this.state.colorString\n      }\n    }, \" \")), this.renderPicker());\n  },\n  renderPicker: function() {\n    var div, hue, i, input, j, label, len, onSelectColor, ref1, ref2, renderColor, renderLabel, rows;\n    ref1 = React.DOM, div = ref1.div, label = ref1.label, input = ref1.input;\n    if (!this.state.isPickerVisible) {\n      return null;\n    }\n    renderLabel = (function(_this) {\n      return function(text) {\n        return div({\n          className: 'color-row label',\n          key: text,\n          style: {\n            lineHeight: '20px',\n            height: 16\n          }\n        }, text);\n      };\n    })(this);\n    renderColor = (function(_this) {\n      return function() {\n        var checkerboardURL;\n        checkerboardURL = _this.props.lc.opts.imageURLPrefix + \"/checkerboard-8x8.png\";\n        return div({\n          className: 'color-row',\n          key: \"color\",\n          style: {\n            position: 'relative',\n            backgroundImage: \"url(\" + checkerboardURL + \")\",\n            backgroundRepeat: 'repeat',\n            height: 24\n          }\n        }, div({\n          style: {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            backgroundColor: _this.state.colorString\n          }\n        }));\n      };\n    })(this);\n    rows = [];\n    rows.push((function() {\n      var j, results;\n      results = [];\n      for (i = j = 0; j <= 100; i = j += 10) {\n        results.push({\n          hue: 0,\n          sat: 0,\n          light: i,\n          alpha: this.state.alpha\n        });\n      }\n      return results;\n    }).call(this));\n    ref2 = [0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330];\n    for (j = 0, len = ref2.length; j < len; j++) {\n      hue = ref2[j];\n      rows.push((function() {\n        var k, results;\n        results = [];\n        for (i = k = 10; k <= 90; i = k += 8) {\n          results.push({\n            hue: hue,\n            sat: this.state.sat,\n            light: i,\n            alpha: this.state.alpha\n          });\n        }\n        return results;\n      }).call(this));\n    }\n    onSelectColor = (function(_this) {\n      return function(hsla, s) {\n        return _this.setColor(s);\n      };\n    })(this);\n    return div({\n      className: 'color-picker-popup'\n    }, renderColor(), renderLabel(\"alpha\"), input({\n      type: 'range',\n      min: 0,\n      max: 1,\n      step: 0.01,\n      value: this.state.alpha,\n      onChange: (function(_this) {\n        return function(e) {\n          return _this.setAlpha(parseFloat(e.target.value));\n        };\n      })(this)\n    }), renderLabel(\"saturation\"), input({\n      type: 'range',\n      min: 0,\n      max: 100,\n      value: this.state.sat,\n      max: 100,\n      onChange: (function(_this) {\n        return function(e) {\n          return _this.setSat(parseInt(e.target.value, 10));\n        };\n      })(this)\n    }), ColorGrid({\n      rows: rows,\n      selectedColor: this.state.colorString,\n      onChange: onSelectColor\n    }));\n  }\n});\n\nmodule.exports = ColorWell;\n"]},"metadata":{},"sourceType":"script"}