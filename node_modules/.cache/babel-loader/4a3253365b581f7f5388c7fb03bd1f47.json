{"ast":null,"code":"'use strict';\n\nvar React = require('../reactGUI/React-shim');\n\nvar _require = require('../reactGUI/ReactDOM-shim');\n\nvar findDOMNode = _require.findDOMNode;\n\nvar _require2 = require('../core/util');\n\nvar classSet = _require2.classSet;\n\nvar Picker = require('./Picker');\n\nvar Options = require('./Options');\n\nvar createToolButton = require('./createToolButton');\n\nvar LiterallyCanvasModel = require('../core/LiterallyCanvas');\n\nvar defaultOptions = require('../core/defaultOptions');\n\nrequire('../optionsStyles/font');\n\nrequire('../optionsStyles/stroke-width');\n\nrequire('../optionsStyles/line-options-and-stroke-width');\n\nrequire('../optionsStyles/polygon-and-stroke-width');\n\nrequire('../optionsStyles/null');\n\nvar CanvasContainer = React.createClass({\n  displayName: 'CanvasContainer',\n  shouldComponentUpdate: function shouldComponentUpdate() {\n    // Avoid React trying to control this DOM\n    return false;\n  },\n  render: function render() {\n    return React.createElement('div', {\n      key: 'literallycanvas',\n      className: 'lc-drawing with-gui'\n    });\n  }\n});\nvar LiterallyCanvas = React.createClass({\n  displayName: 'LiterallyCanvas',\n  getDefaultProps: function getDefaultProps() {\n    return defaultOptions;\n  },\n  bindToModel: function bindToModel() {\n    var canvasContainerEl = findDOMNode(this.canvas);\n    var opts = this.props;\n    this.lc.bindToElement(canvasContainerEl);\n\n    if (typeof opts.onInit === 'function') {\n      opts.onInit(this.lc);\n    }\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    if (this.lc) return;\n\n    if (this.props.lc) {\n      this.lc = this.props.lc;\n    } else {\n      this.lc = new LiterallyCanvasModel(this.props);\n    }\n\n    this.toolButtonComponents = this.lc.opts.tools.map(function (ToolClass) {\n      return createToolButton(new ToolClass(_this.lc));\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    if (!this.lc.isBound) {\n      this.bindToModel();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.lc) {\n      this.lc._teardown();\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var lc = this.lc;\n    var toolButtonComponents = this.toolButtonComponents;\n    var props = this.props;\n    var _lc$opts = this.lc.opts;\n    var imageURLPrefix = _lc$opts.imageURLPrefix;\n    var toolbarPosition = _lc$opts.toolbarPosition;\n    var pickerProps = {\n      lc: lc,\n      toolButtonComponents: toolButtonComponents,\n      imageURLPrefix: imageURLPrefix\n    };\n    var topOrBottomClassName = classSet({\n      'toolbar-at-top': toolbarPosition === 'top',\n      'toolbar-at-bottom': toolbarPosition === 'bottom',\n      'toolbar-hidden': toolbarPosition === 'hidden'\n    });\n    return React.createElement('div', {\n      className: 'literally ' + topOrBottomClassName\n    }, React.createElement(CanvasContainer, {\n      ref: function ref(item) {\n        return _this2.canvas = item;\n      }\n    }), React.createElement(Picker, pickerProps), React.createElement(Options, {\n      lc: lc,\n      imageURLPrefix: imageURLPrefix\n    }));\n  }\n});\nmodule.exports = LiterallyCanvas;","map":{"version":3,"sources":["C:/Users/lukeq/blog/node_modules/literallycanvas/lib/js/reactGUI/LiterallyCanvas.js"],"names":["React","require","_require","findDOMNode","_require2","classSet","Picker","Options","createToolButton","LiterallyCanvasModel","defaultOptions","CanvasContainer","createClass","displayName","shouldComponentUpdate","render","createElement","key","className","LiterallyCanvas","getDefaultProps","bindToModel","canvasContainerEl","canvas","opts","props","lc","bindToElement","onInit","componentWillMount","_this","toolButtonComponents","tools","map","ToolClass","componentDidMount","isBound","componentWillUnmount","_teardown","_this2","_lc$opts","imageURLPrefix","toolbarPosition","pickerProps","topOrBottomClassName","ref","item","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React = require('../reactGUI/React-shim');\n\nvar _require = require('../reactGUI/ReactDOM-shim');\n\nvar findDOMNode = _require.findDOMNode;\n\nvar _require2 = require('../core/util');\n\nvar classSet = _require2.classSet;\n\nvar Picker = require('./Picker');\nvar Options = require('./Options');\nvar createToolButton = require('./createToolButton');\nvar LiterallyCanvasModel = require('../core/LiterallyCanvas');\nvar defaultOptions = require('../core/defaultOptions');\n\nrequire('../optionsStyles/font');\nrequire('../optionsStyles/stroke-width');\nrequire('../optionsStyles/line-options-and-stroke-width');\nrequire('../optionsStyles/polygon-and-stroke-width');\nrequire('../optionsStyles/null');\n\nvar CanvasContainer = React.createClass({\n  displayName: 'CanvasContainer',\n  shouldComponentUpdate: function shouldComponentUpdate() {\n    // Avoid React trying to control this DOM\n    return false;\n  },\n  render: function render() {\n    return React.createElement('div', { key: 'literallycanvas', className: 'lc-drawing with-gui' });\n  }\n});\n\nvar LiterallyCanvas = React.createClass({\n  displayName: 'LiterallyCanvas',\n\n  getDefaultProps: function getDefaultProps() {\n    return defaultOptions;\n  },\n  bindToModel: function bindToModel() {\n    var canvasContainerEl = findDOMNode(this.canvas);\n    var opts = this.props;\n    this.lc.bindToElement(canvasContainerEl);\n\n    if (typeof opts.onInit === 'function') {\n      opts.onInit(this.lc);\n    }\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    if (this.lc) return;\n\n    if (this.props.lc) {\n      this.lc = this.props.lc;\n    } else {\n      this.lc = new LiterallyCanvasModel(this.props);\n    }\n\n    this.toolButtonComponents = this.lc.opts.tools.map(function (ToolClass) {\n      return createToolButton(new ToolClass(_this.lc));\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    if (!this.lc.isBound) {\n      this.bindToModel();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.lc) {\n      this.lc._teardown();\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var lc = this.lc;\n    var toolButtonComponents = this.toolButtonComponents;\n    var props = this.props;\n    var _lc$opts = this.lc.opts;\n    var imageURLPrefix = _lc$opts.imageURLPrefix;\n    var toolbarPosition = _lc$opts.toolbarPosition;\n\n    var pickerProps = { lc: lc, toolButtonComponents: toolButtonComponents, imageURLPrefix: imageURLPrefix };\n    var topOrBottomClassName = classSet({\n      'toolbar-at-top': toolbarPosition === 'top',\n      'toolbar-at-bottom': toolbarPosition === 'bottom',\n      'toolbar-hidden': toolbarPosition === 'hidden'\n    });\n    return React.createElement(\n      'div',\n      { className: 'literally ' + topOrBottomClassName },\n      React.createElement(CanvasContainer, { ref: function ref(item) {\n          return _this2.canvas = item;\n        } }),\n      React.createElement(Picker, pickerProps),\n      React.createElement(Options, { lc: lc, imageURLPrefix: imageURLPrefix })\n    );\n  }\n});\n\nmodule.exports = LiterallyCanvas;"]},"metadata":{},"sourceType":"script"}