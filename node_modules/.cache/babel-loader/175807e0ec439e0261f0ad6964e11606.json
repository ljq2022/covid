{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lukeq\\\\blog\\\\src\\\\components\\\\edit-post.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Painterro from 'painterro';\nexport default class EditPost extends Component {\n  constructor(props) {\n    super(props); //ensures that the this called in the methods are the same this in the class\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeDiagnosis = this.onChangeDiagnosis.bind(this); //state is how you create vars in react\n\n    this.state = {\n      username: '',\n      description: '',\n      date: new Date(),\n      file: '',\n      positive: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/posts/' + this.props.match.params.id).then(response => {\n      console.log(response.data);\n      this.setState({\n        username: response.data.username,\n        description: response.data.description,\n        date: new Date(response.data.date),\n        file: response.data.file\n      });\n    });\n    var canvas = document.getElementById('canvas');\n    var ctx = canvas.getContext('2d');\n    var imageObj = new Image();\n    ctx.canvas.width = window.innerWidth;\n    ctx.canvas.height = window.innerHeight;\n\n    imageObj.onload = function () {\n      ctx.drawImage(imageObj, 0, 0, window.innerWidth, window.innerHeight);\n      ctx.font = \"40px Courier\";\n      ctx.fillText('heyy', 210, 75);\n      this.setState({\n        loading: false\n      });\n    };\n\n    imageObj.src = this.state.file;\n  }\n\n  onChangeDiagnosis(e) {\n    var res = false;\n\n    if (e.target.value == 'Positive') {\n      res = true;\n    }\n\n    this.setState({\n      positive: res\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const post = {\n      username: this.state.username,\n      description: this.state.description,\n      date: this.state.date,\n      file: this.state.file,\n      complete: true,\n      positive: this.state.positive\n    };\n    axios.post('http://localhost:5000/posts/update/' + this.props.match.params.id, post).then(res => console.log(res.data));\n    window.location = '/';\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 12\n        }\n      }, \"Loading image...\"); // or just return null if you want nothing to be rendered.\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, \"Label Image\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, this.state.username, \"'s Task\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, \"Instructions: \", this.state.description)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, \"Due Date: \", String(this.state.date))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        id: \"canvas\",\n        ref: \"canvas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, \"Result: \"), /*#__PURE__*/React.createElement(\"select\", {\n        onChange: this.onChangeDiagnosis,\n        defaultValue: 'Negative',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        key: \"Positive\",\n        value: \"Positive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, \"Positive\"), /*#__PURE__*/React.createElement(\"option\", {\n        key: \"Negative\",\n        value: \"Negative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, \"Negative\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit Task\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/lukeq/blog/src/components/edit-post.component.js"],"names":["React","Component","axios","Painterro","EditPost","constructor","props","onSubmit","bind","onChangeDiagnosis","state","username","description","date","Date","file","positive","loading","componentDidMount","get","match","params","id","then","response","console","log","data","setState","canvas","document","getElementById","ctx","getContext","imageObj","Image","width","window","innerWidth","height","innerHeight","onload","drawImage","font","fillText","src","e","res","target","value","preventDefault","post","complete","location","render","String","display","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Painterro from 'painterro'\r\n\r\nexport default class EditPost extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //ensures that the this called in the methods are the same this in the class\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChangeDiagnosis = this.onChangeDiagnosis.bind(this);\r\n    //state is how you create vars in react\r\n    this.state = {\r\n      username: '',\r\n      description: '',\r\n      date: new Date(),\r\n      file: '',\r\n      positive: false,\r\n      loading: true\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    axios.get('http://localhost:5000/posts/' + this.props.match.params.id)\r\n      .then(response => {\r\n        console.log(response.data)\r\n        this.setState({\r\n          username: response.data.username,\r\n          description: response.data.description,\r\n          date: new Date(response.data.date),\r\n          file: response.data.file\r\n        })\r\n      })\r\n      var canvas = document.getElementById('canvas');\r\n      var ctx = canvas.getContext('2d');\r\n      var imageObj = new Image();\r\n      ctx.canvas.width = window.innerWidth;\r\n      ctx.canvas.height = window.innerHeight;\r\n      imageObj.onload = function() {\r\n        ctx.drawImage(imageObj, 0, 0,window.innerWidth,window.innerHeight);\r\n        ctx.font = \"40px Courier\"\r\n        ctx.fillText('heyy', 210, 75)\r\n        this.setState({loading: false});\r\n      };\r\n      imageObj.src = this.state.file;\r\n  }\r\n  onChangeDiagnosis(e) {\r\n    var res = false;\r\n    if(e.target.value == 'Positive') {\r\n      res = true;\r\n    }\r\n    this.setState({\r\n      positive: res\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const post = {\r\n      username: this.state.username,\r\n      description: this.state.description,\r\n      date: this.state.date,\r\n      file: this.state.file,\r\n      complete: true,\r\n      positive: this.state.positive\r\n    }\r\n\r\n    axios.post('http://localhost:5000/posts/update/' + this.props.match.params.id, post)\r\n      .then(res => console.log(res.data));\r\n\r\n    window.location = '/';\r\n  }\r\n  render() {\r\n  if (this.state.loading) {\r\n    return <div>Loading image...</div>; // or just return null if you want nothing to be rendered.\r\n  } else {\r\n    return (\r\n    <div>\r\n      <h3>Label Image</h3>\r\n      <form onSubmit={this.onSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>{this.state.username}'s Task</label>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <p>Instructions: {this.state.description}</p>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Due Date: {String(this.state.date)}</label>\r\n        </div>\r\n        <div style={{display: 'flex',  justifyContent:'center', alignItems:'center'}}>\r\n          <canvas id=\"canvas\" ref=\"canvas\"/>\r\n        </div>\r\n        <div>\r\n          <label>Result: </label>\r\n          <select onChange={this.onChangeDiagnosis} defaultValue={'Negative'}>\r\n            <option key='Positive' value='Positive'>Positive</option>\r\n            <option key='Negative' value='Negative'>Negative</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"submit\" value=\"Submit Task\" className=\"btn btn-primary\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n    )\r\n  }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}