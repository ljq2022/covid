{"ast":null,"code":"var Pan,\n    Tool,\n    createShape,\n    extend = function (child, parent) {\n  for (var key in parent) {\n    if (hasProp.call(parent, key)) child[key] = parent[key];\n  }\n\n  function ctor() {\n    this.constructor = child;\n  }\n\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n  child.__super__ = parent.prototype;\n  return child;\n},\n    hasProp = {}.hasOwnProperty;\n\nTool = require('./base').Tool;\ncreateShape = require('../core/shapes').createShape;\n\nmodule.exports = Pan = function (superClass) {\n  extend(Pan, superClass);\n\n  function Pan() {\n    return Pan.__super__.constructor.apply(this, arguments);\n  }\n\n  Pan.prototype.name = 'Pan';\n  Pan.prototype.iconName = 'pan';\n  Pan.prototype.usesSimpleAPI = false;\n\n  Pan.prototype.didBecomeActive = function (lc) {\n    var unsubscribeFuncs;\n    unsubscribeFuncs = [];\n\n    this.unsubscribe = function (_this) {\n      return function () {\n        var func, i, len, results;\n        results = [];\n\n        for (i = 0, len = unsubscribeFuncs.length; i < len; i++) {\n          func = unsubscribeFuncs[i];\n          results.push(func());\n        }\n\n        return results;\n      };\n    }(this);\n\n    unsubscribeFuncs.push(lc.on('lc-pointerdown', function (_this) {\n      return function (arg) {\n        var rawX, rawY;\n        rawX = arg.rawX, rawY = arg.rawY;\n        _this.oldPosition = lc.position;\n        return _this.pointerStart = {\n          x: rawX,\n          y: rawY\n        };\n      };\n    }(this)));\n    return unsubscribeFuncs.push(lc.on('lc-pointerdrag', function (_this) {\n      return function (arg) {\n        var dp, rawX, rawY;\n        rawX = arg.rawX, rawY = arg.rawY;\n        dp = {\n          x: (rawX - _this.pointerStart.x) * lc.backingScale,\n          y: (rawY - _this.pointerStart.y) * lc.backingScale\n        };\n        return lc.setPan(_this.oldPosition.x + dp.x, _this.oldPosition.y + dp.y);\n      };\n    }(this)));\n  };\n\n  Pan.prototype.willBecomeInactive = function (lc) {\n    return this.unsubscribe();\n  };\n\n  return Pan;\n}(Tool);","map":{"version":3,"sources":["C:/Users/lukeq/blog/node_modules/literallycanvas/lib/js/tools/Pan.js"],"names":["Pan","Tool","createShape","extend","child","parent","key","hasProp","call","ctor","constructor","prototype","__super__","hasOwnProperty","require","module","exports","superClass","apply","arguments","name","iconName","usesSimpleAPI","didBecomeActive","lc","unsubscribeFuncs","unsubscribe","_this","func","i","len","results","length","push","on","arg","rawX","rawY","oldPosition","position","pointerStart","x","y","dp","backingScale","setPan","willBecomeInactive"],"mappings":"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","sourcesContent":["var Pan, Tool, createShape,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nTool = require('./base').Tool;\n\ncreateShape = require('../core/shapes').createShape;\n\nmodule.exports = Pan = (function(superClass) {\n  extend(Pan, superClass);\n\n  function Pan() {\n    return Pan.__super__.constructor.apply(this, arguments);\n  }\n\n  Pan.prototype.name = 'Pan';\n\n  Pan.prototype.iconName = 'pan';\n\n  Pan.prototype.usesSimpleAPI = false;\n\n  Pan.prototype.didBecomeActive = function(lc) {\n    var unsubscribeFuncs;\n    unsubscribeFuncs = [];\n    this.unsubscribe = (function(_this) {\n      return function() {\n        var func, i, len, results;\n        results = [];\n        for (i = 0, len = unsubscribeFuncs.length; i < len; i++) {\n          func = unsubscribeFuncs[i];\n          results.push(func());\n        }\n        return results;\n      };\n    })(this);\n    unsubscribeFuncs.push(lc.on('lc-pointerdown', (function(_this) {\n      return function(arg) {\n        var rawX, rawY;\n        rawX = arg.rawX, rawY = arg.rawY;\n        _this.oldPosition = lc.position;\n        return _this.pointerStart = {\n          x: rawX,\n          y: rawY\n        };\n      };\n    })(this)));\n    return unsubscribeFuncs.push(lc.on('lc-pointerdrag', (function(_this) {\n      return function(arg) {\n        var dp, rawX, rawY;\n        rawX = arg.rawX, rawY = arg.rawY;\n        dp = {\n          x: (rawX - _this.pointerStart.x) * lc.backingScale,\n          y: (rawY - _this.pointerStart.y) * lc.backingScale\n        };\n        return lc.setPan(_this.oldPosition.x + dp.x, _this.oldPosition.y + dp.y);\n      };\n    })(this)));\n  };\n\n  Pan.prototype.willBecomeInactive = function(lc) {\n    return this.unsubscribe();\n  };\n\n  return Pan;\n\n})(Tool);\n"]},"metadata":{},"sourceType":"script"}