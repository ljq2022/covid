{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lukeq\\\\blog\\\\src\\\\components\\\\post-list.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"../App.css\";\n\nconst Post = props => /*#__PURE__*/React.createElement(\"tr\", {\n  style: {\n    fontFamily: \"sans-serif\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  style: {\n    fontWeight: 600\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }\n}, props.post.username), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }\n}, props.post.description), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, props.post.date.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: props.post.file,\n  alt: \"\",\n  width: \"40\",\n  height: \"40\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }\n})), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, props.post.data), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"postRowActionDiv\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + props.post._id,\n  style: {\n    color: \"rgb(255, 77, 77)\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }\n}, \"\\u270F\\uFE0Flabel\"), /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.completePost(props.post._id);\n  },\n  style: {\n    color: \"gray\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }\n}, \"\\u2705mark complete\"), /*#__PURE__*/React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deletePost(props.post._id);\n  },\n  style: {\n    color: \"gray\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }\n}, \"\\uD83D\\uDDD1\\uFE0Fdelete\")))); //class component\n\n\nexport default class PostList extends Component {\n  constructor(props) {\n    super(props);\n    this.completePost = this.completePost.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.filterPosts = this.filterPosts.bind(this);\n    this.loadAllPosts = this.loadAllPosts.bind(this);\n    this.state = {\n      filteredPosts: []\n    };\n  }\n\n  componentDidMount() {\n    this.filterPosts(this.refs._filterSelection);\n  }\n\n  loadAllPosts() {\n    axios.get('http://localhost:5000/posts/').then(response => {\n      this.setState({\n        filteredPosts: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deletePost(id) {\n    axios.delete('http://localhost:5000/posts/' + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      filteredPosts: this.state.filteredPosts.filter(el => el._id !== id)\n    });\n  }\n\n  completePost(id) {\n    var completedPost;\n\n    for (var i = 0; i < this.state.filteredPosts.length; i++) {\n      if (this.state.filteredPosts[i]._id === id) {\n        completedPost = this.state.filteredPosts[i];\n        this.state.filteredPosts[i].complete = true;\n        break;\n      }\n    }\n\n    const res = {\n      username: completedPost.username,\n      description: completedPost.description,\n      date: completedPost.date,\n      file: completedPost.file,\n      complete: true\n    };\n    axios.post('http://localhost:5000/posts/update/' + id, res).then(response => {\n      console.log(response.data);\n    });\n  }\n\n  filterPosts(pickerSelection) {\n    if (pickerSelection.target == null) {\n      this.loadAllPosts();\n      return;\n    }\n\n    switch (pickerSelection.target.value) {\n      case \"All Tasks\":\n        this.loadAllPosts();\n        break;\n\n      case \"Tasks Not Completed\":\n        axios.get(\"http://localhost:5000/posts/tasksNotCompleted\").then(function (res) {\n          this.setState({\n            filteredPosts: res.data\n          });\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n        });\n        break;\n\n      case \"Tasks Already Completed\":\n        axios.get(\"http://localhost:5000/posts/tasksAlreadyCompleted\").then(function (res) {\n          this.setState({\n            filteredPosts: res.data\n          });\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n        });\n        break;\n\n      case \"Tasks I Created\":\n        axios.get(\"http://localhost:5000/posts/tasksICreated\").then(function (res) {\n          this.setState({\n            filteredPosts: res.data\n          });\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n        });\n        break;\n\n      case \"Public Tasks\":\n        axios.get(\"http://localhost:5000/posts/public\").then(function (res) {\n          this.setState({\n            filteredPosts: res.data\n          });\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  postList() {\n    return this.state.filteredPosts.map(currentpost => {\n      console.log('POST LIST');\n      console.log(currentpost);\n      return /*#__PURE__*/React.createElement(Post, {\n        post: currentpost,\n        completePost: this.completePost,\n        deletePost: this.deletePost,\n        key: currentpost._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        fontSize: 30,\n        fontWeight: 600,\n        textDecoration: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, \"Posts\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      ref: \"_filterSelection\",\n      onChange: this.filterPosts,\n      defaultValue: 'All Tasks',\n      style: {\n        marginBottom: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"All Tasks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, \"All Tasks\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks Not Completed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, \"Tasks Not Completed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks Already Completed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, \"Tasks Already Completed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Tasks I Created\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, \"Tasks I Created\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Public Tasks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, \"Public Tasks\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, \"Assigner\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, \"File\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, this.postList())));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/lukeq/blog/src/components/post-list.component.js"],"names":["React","Component","Link","axios","Post","props","fontFamily","fontWeight","post","username","description","date","substring","file","data","_id","color","completePost","deletePost","PostList","constructor","bind","filterPosts","loadAllPosts","state","filteredPosts","componentDidMount","refs","_filterSelection","get","then","response","setState","catch","error","console","log","id","delete","filter","el","completedPost","i","length","complete","res","pickerSelection","target","value","postList","map","currentpost","render","fontSize","textDecoration","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"../App.css\"\r\n\r\nconst Post = props => (\r\n  <tr style={{fontFamily: \"sans-serif\"}}>\r\n    <td style={{fontWeight: 600}}>{props.post.username}</td>\r\n    <td>{props.post.description}</td>\r\n    <td>{props.post.date.substring(0,10)}</td>\r\n    <td><img src={props.post.file} alt=\"\" width=\"40\" height=\"40\" /></td>\r\n    <td>{props.post.data}</td>\r\n    <td>\r\n      <div className=\"postRowActionDiv\">\r\n        <Link to={\"/edit/\"+props.post._id} style={{color: \"rgb(255, 77, 77)\"}}>‚úèÔ∏èlabel</Link>\r\n        <a href=\"#\" onClick={() => { props.completePost(props.post._id) }} style={{color: \"gray\"}}>‚úÖmark complete</a>\r\n        <a href=\"#\" onClick={() => { props.deletePost(props.post._id) }} style={{color: \"gray\"}}>üóëÔ∏èdelete</a>\r\n      </div>\r\n    </td>\r\n  </tr>\r\n)\r\n\r\n//class component\r\nexport default class PostList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.completePost = this.completePost.bind(this)\r\n    this.deletePost = this.deletePost.bind(this);\r\n    this.filterPosts = this.filterPosts.bind(this)\r\n    this.loadAllPosts = this.loadAllPosts.bind(this)\r\n\r\n    this.state = {\r\n      filteredPosts: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.filterPosts(this.refs._filterSelection)\r\n  }\r\n  loadAllPosts(){\r\n    axios.get('http://localhost:5000/posts/')\r\n      .then(response => {\r\n        this.setState({ filteredPosts: response.data })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n  deletePost(id) {\r\n    axios.delete('http://localhost:5000/posts/'+id)\r\n      .then(response => { console.log(response.data)});\r\n\r\n      this.setState({\r\n        filteredPosts: this.state.filteredPosts.filter(el => el._id !== id)\r\n      })\r\n  }\r\n  completePost(id) {\r\n    var completedPost;\r\n    for(var i = 0; i < this.state.filteredPosts.length; i++) {\r\n      if(this.state.filteredPosts[i]._id === id) {\r\n        completedPost = this.state.filteredPosts[i];\r\n        this.state.filteredPosts[i].complete = true;\r\n        break;\r\n      }\r\n    }\r\n    const res = {\r\n      username: completedPost.username,\r\n      description: completedPost.description,\r\n      date: completedPost.date,\r\n      file: completedPost.file,\r\n      complete: true\r\n    };\r\n    axios.post('http://localhost:5000/posts/update/'+id, res)\r\n      .then(response => { console.log(response.data)});\r\n  }\r\n\r\n  filterPosts(pickerSelection){\r\n    if (pickerSelection.target == null){\r\n      this.loadAllPosts()\r\n      return\r\n    }\r\n    switch(pickerSelection.target.value){\r\n      case \"All Tasks\":\r\n        this.loadAllPosts()\r\n        break\r\n\r\n        case \"Tasks Not Completed\":\r\n          axios.get(\"http://localhost:5000/posts/tasksNotCompleted\").then(function(res){\r\n            this.setState({filteredPosts: res.data})\r\n          }.bind(this)).catch(function(error){\r\n            console.log(error)\r\n          })\r\n          break\r\n\r\n      case \"Tasks Already Completed\":\r\n        axios.get(\"http://localhost:5000/posts/tasksAlreadyCompleted\").then(function(res){\r\n          this.setState({filteredPosts: res.data})\r\n        }.bind(this)).catch(function(error){\r\n          console.log(error)\r\n        })\r\n        break\r\n\r\n      case \"Tasks I Created\":\r\n        axios.get(\"http://localhost:5000/posts/tasksICreated\").then(function(res){\r\n          this.setState({filteredPosts: res.data})\r\n        }.bind(this)).catch(function(error){\r\n          console.log(error)\r\n        })\r\n        break\r\n\r\n      case \"Public Tasks\":\r\n        axios.get(\"http://localhost:5000/posts/public\").then(function(res){\r\n          this.setState({filteredPosts: res.data})\r\n        }.bind(this)).catch(function(error){\r\n          console.log(error)\r\n        })\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n\r\n  }\r\n\r\n  postList() {\r\n    return this.state.filteredPosts.map(currentpost => {\r\n      console.log('POST LIST');\r\n      console.log(currentpost);\r\n      return <Post post={currentpost} completePost={this.completePost} deletePost={this.deletePost} key={currentpost._id}/>;\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <label style={{fontSize: 30, fontWeight: 600, textDecoration: \"underline\"}}>Posts</label>\r\n        <br/>\r\n        <select ref=\"_filterSelection\" onChange={this.filterPosts} defaultValue={'All Tasks'} style={{marginBottom: 8}}>\r\n          <option value='All Tasks'>All Tasks</option>\r\n          <option value='Tasks Not Completed'>Tasks Not Completed</option>\r\n          <option value='Tasks Already Completed'>Tasks Already Completed</option>\r\n          <option value='Tasks I Created'>Tasks I Created</option>\r\n          <option value='Public Tasks'>Public Tasks</option>\r\n        </select>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Assigner</th>\r\n              <th>Description</th>\r\n              <th>Date</th>\r\n              <th>File</th>\r\n              <th>Type</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { this.postList() }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}